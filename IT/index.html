<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IT Department | EveHub</title>
  <link rel="stylesheet" href="../css/department.css">
  <link rel="stylesheet" href="../css/task.css">
  <script src="index.js" defer></script>
  <script src="it.js" defer></script>
</head>
<body>
  <div id="header"></div>

  <div class="main_container">
    <div class="content resizable">
      <div class="title">
        <h1>💻 IT Department</h1>
        <p>All tools and files for IT Department.</p>
      </div>

      <div class="sub_content">
        <div class="card"><a href="">Property Information Files</a></div>

        <div class="card"><a href="#" onclick="changeFrame('master'); return false;">Master List</a></div>

        <div class="card"><a href="https://drive.google.com/drive/folders/1uXhNGPapLnYDvxXnGU5MzCM2ecint04e?usp=sharing">Viewing Schedule</a></div>

        <div class="card"><a href="#" onclick="changeFrame('waitlist'); return false;">Wait List</a></div>

        <div class="card"><a href="https://drive.google.com/drive/folders/1SzEMdtEnluqixrB9Zyj_KC4OvgwwAW-M?usp=sharing">Promotional Content</a></div>

        <div class="card"><a href="#" onclick="changeFrame('bnb'); return false;">Bed and Bath Info</a></div>
        
        <div class="card"><a href="#" onclick="changeFrame('search'); return false;">Search Engine</a></div>
      </div>

      <iframe id="mainFrame" src="https://tephdy.github.io/WEB-APP/"></iframe>

      <div class="task-main-container">
        <!-- ✅ Left: Form -->
        <div class="todo-form-container">
          <h1>📝 Task Manager</h1>
          <form id="todo-form">
            <label>Task Name</label>
            <input type="text" id="taskName" required>

            <label>Priority</label>
            <select id="priority">
              <option>High</option>
              <option>Medium</option>
              <option>Low</option>
            </select>

            <label>Assigned By</label>
            <input type="text" id="assignedBy" required>

            <label>Assigned To</label>
            <select id="assignTo" required>
              <option value="Self">Self</option>
              <option value="Marketing">Marketing</option>
              <option value="Propperty Representative">Propperty Representative</option>
              <option value="Accounting">Accounting</option>
              <option value="IT">IT</option>
            </select>

            <label>Due Date</label>
            <input type="date" id="dueDate" required>

            <label>Details</label>
            <textarea id="notes" rows="3" style="
              width:100%;
              padding:8px;
              border:1px solid #ccc;
              border-radius:5px;
              resize:none;
              overflow:hidden;
              min-height:100px;
              max-height:300px;
              font-family:inherit;
              font-size:14px;
              line-height:1.4;
              box-sizing:border-box;"></textarea>

            <button type="submit">Save Task</button>
          </form>
          <p id="response" class="response"></p>
        </div>

        <!-- ✅ Right: Task List -->
        <div class="task-list-container">
          <h1>📋 Task List</h1>
          <div id="taskList" class="task-list"></div>
        </div>
      </div>
    </div>

    <div class="content resizable">
      <iframe 
        src="https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23ffffff
&src=f8939355c05bdafed63e7eb02789566c7ebe844c36005d3ce552d4d2fd6cba16%40group.calendar.google.com
&src=7e3b30ff9999ea614326851547fe1ad3b916dbd5d66e1ca4aee284a643bec5b8%40group.calendar.google.com
&src=4135d53669ba8aeb9fa97e9d43b90b898559135041b9877a74024e64f938433d%40group.calendar.google.com
&src=1e4d7aeebe105f901f5667b6ab66abe0cbf3200430b4038c56fca65b9e34fd80%40group.calendar.google.com
&src=502be4aa37504dea77d1a6b9102a6e47f615fc2da0cb6bfe75e366d39396fcce%40group.calendar.google.com
&src=9b12293cfc74b3ef24aa3b47f244cc0ddd985ccad38a76d8113c6f8fda1c8d57%40group.calendar.google.com
&src=e606ac15794bbbf3367bf604d1dcfec9c54206fc69f4a091b27f2998c9a0bbb2%40group.calendar.google.com
&src=0ff5cd60c64f7f245b9a751f7bb51aad1c8fef2212d4c37befc52593bd9e37c4%40group.calendar.google.com
&src=7137dc2d42770e37e88ced5ae69e61975b63c4767c5abd73a5be3019759ef8b9%40group.calendar.google.com
&color=%23039BE5&color=%23D50000&color=%23F6BF26&color=%237CB342&color=%23E67C73
&color=%23F4511E&color=%237CB342&color=%239E69AF&color=%2323164E&ctz=Asia%2FManila" 
        frameborder="0" scrolling="no">
      </iframe>
    </div>
  </div>


  <script>
      // Load shared header
  fetch("../header/header.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("header").innerHTML = data;

      // Update department name
      const deptName = document.getElementById("dept-name");
      if (deptName) deptName.textContent = "IT Department";

      // Enable mobile menu toggle AFTER header loads
      const menuToggle = document.querySelector(".menu-toggle");
      const subContent = document.querySelector(".sub_content");
      if (menuToggle && subContent) {
        menuToggle.addEventListener("click", () => {
          subContent.classList.toggle("active");
        });
      }
    })
    .catch(err => console.error("Error loading header:", err));

  </script>
</body>
</html>
